(self.webpackChunkng_recaptcha_base=self.webpackChunkng_recaptcha_base||[]).push([[582],{3582:(s,a,n)=>{"use strict";n.r(a),n.d(a,{DemoModule:()=>u,PreloadedRecaptchaAPIService:()=>j,service:()=>i});var l=n(8583),p=n(2305),e=n(6215),t=n(5200),c=n(7663),r=n(9752),o=n(7716);let h=(()=>{class s{resolved(s){console.log(`Resolved captcha with response: ${s}`)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275cmp=o.Xpm({type:s,selectors:[["recaptcha-demo"]],decls:1,vars:0,consts:[[3,"resolved"]],template:function(s,a){1&s&&(o.TgZ(0,"re-captcha",0),o.NdJ("resolved",function(s){return a.resolved(s)}),o.qZA())},directives:[t.wT],encapsulation:2}),s})(),j=(()=>{class s{constructor(s){const a=new e.X(null);if(this.ready=a.asObservable(),"undefined"==typeof grecaptcha){const a=document.createElement("script");a.src=`https://www.google.com/recaptcha/api.js?render=${s}`,document.head.appendChild(a)}const n=setInterval(()=>{"undefined"!=typeof grecaptcha&&grecaptcha.render instanceof Function&&(clearInterval(n),a.next(grecaptcha))},50)}}return s.\u0275fac=function(a){return new(a||s)(o.LFG(t.We,8))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const i=new j,d=[{path:"",component:h,data:{page:{feature:"preload-api",title:"Preloaded reCAPTCHA API Example",content:{component:'<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@angular/core&quot;</span>;\n\n<span class="hljs-meta">@Component</span>({\n  <span class="hljs-attr">selector</span>: <span class="hljs-string">&quot;recaptcha-demo&quot;</span>,\n  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">&quot;./preload-api-demo.component.html&quot;</span>,\n})\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PreloadApiDemoComponent</span> {\n  <span class="hljs-keyword">public</span> <span class="hljs-title function_">resolved</span>(<span class="hljs-attr">captchaResponse</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Resolved captcha with response: <span class="hljs-subst">${captchaResponse}</span>`</span>);\n  }\n}\n',html:'<span class="hljs-tag">&lt;<span class="hljs-name">re-captcha</span> (<span class="hljs-attr">resolved</span>)=<span class="hljs-string">&quot;resolved($event)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">re-captcha</span>&gt;</span>\n',module:{"":'<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Injectable</span>, <span class="hljs-title class_">NgModule</span>, <span class="hljs-title class_">Optional</span>, <span class="hljs-title class_">Inject</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CommonModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/common&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">RouterModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/router&#x27;</span>;\n\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BehaviorSubject</span>, <span class="hljs-title class_">Observable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rxjs&#x27;</span>;\n\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">RecaptchaLoaderService</span>, <span class="hljs-title class_">RecaptchaModule</span>, <span class="hljs-variable constant_">RECAPTCHA_V3_SITE_KEY</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;ng-recaptcha&#x27;</span>;\n\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PreloadApiDemoComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./preload-api-demo.component&#x27;</span>;\n<span class="hljs-keyword">import</span> { settings } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./preload-api-demo.data&#x27;</span>;\n\n<span class="hljs-meta">@Injectable</span>()\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PreloadedRecaptchaAPIService</span> {\n  <span class="hljs-keyword">public</span> <span class="hljs-attr">ready</span>: <span class="hljs-title class_">Observable</span>&lt;<span class="hljs-title class_">ReCaptcha</span>V2.<span class="hljs-property">ReCaptcha</span>&gt;;\n\n  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">\n    <span class="hljs-meta">@Optional</span>() <span class="hljs-meta">@Inject</span>(RECAPTCHA_V3_SITE_KEY) v3SiteKey?: <span class="hljs-built_in">string</span>,\n  </span>) {\n    <span class="hljs-keyword">const</span> readySubject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BehaviorSubject</span>&lt;<span class="hljs-title class_">ReCaptcha</span>V2.<span class="hljs-property">ReCaptcha</span>&gt;(<span class="hljs-literal">null</span>);\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ready</span> = readySubject.<span class="hljs-title function_">asObservable</span>();\n\n    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> grecaptcha === <span class="hljs-string">&#x27;undefined&#x27;</span>) {\n      <span class="hljs-keyword">const</span> recaptchaScript = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>);\n      <span class="hljs-keyword">const</span> renderMode = v3SiteKey || <span class="hljs-string">&#x27;explicit&#x27;</span>;\n      recaptchaScript.<span class="hljs-property">src</span> = <span class="hljs-string">`https://www.google.com/recaptcha/api.js?render=<span class="hljs-subst">${v3SiteKey}</span>`</span>;\n      <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(recaptchaScript);\n    }\n\n    <span class="hljs-keyword">const</span> interval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {\n      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> grecaptcha === <span class="hljs-string">&#x27;undefined&#x27;</span> || !(grecaptcha.<span class="hljs-property">render</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Function</span>)) {\n        <span class="hljs-keyword">return</span>;\n      }\n\n      <span class="hljs-built_in">clearInterval</span>(interval);\n      readySubject.<span class="hljs-title function_">next</span>(grecaptcha);\n    }, <span class="hljs-number">50</span>);\n  }\n}\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> service = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PreloadedRecaptcha</span>APIService();\n\n<span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title class_">Routes</span> = [\n  {\n    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;&#x27;</span>,\n    <span class="hljs-attr">component</span>: <span class="hljs-title class_">PreloadApiDemoComponent</span>,\n    <span class="hljs-attr">data</span>: { <span class="hljs-attr">page</span>: settings },\n  },\n];\n\n<span class="hljs-meta">@NgModule</span>({\n  <span class="hljs-attr">declarations</span>: [<span class="hljs-title class_">PreloadApiDemoComponent</span>],\n  <span class="hljs-attr">imports</span>: [\n    <span class="hljs-title class_">RouterModule</span>.<span class="hljs-title function_">forChild</span>(routes),\n    <span class="hljs-title class_">RecaptchaModule</span>,\n    <span class="hljs-title class_">CommonModule</span>,\n  ],\n  <span class="hljs-attr">providers</span>: [\n    {\n      <span class="hljs-attr">provide</span>: <span class="hljs-title class_">RecaptchaLoaderService</span>,\n      <span class="hljs-attr">useValue</span>: service,\n    },\n  ],\n})\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoModule</span> { }\n',fr:'<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Injectable</span>, <span class="hljs-title class_">NgModule</span>, <span class="hljs-title class_">Optional</span>, <span class="hljs-title class_">Inject</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CommonModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/common&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">RouterModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/router&#x27;</span>;\n\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BehaviorSubject</span>, <span class="hljs-title class_">Observable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rxjs&#x27;</span>;\n\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">RecaptchaLoaderService</span>, <span class="hljs-title class_">RecaptchaModule</span>, <span class="hljs-variable constant_">RECAPTCHA_LANGUAGE</span>, <span class="hljs-variable constant_">RECAPTCHA_V3_SITE_KEY</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;ng-recaptcha&#x27;</span>;\n\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PreloadApiDemoComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./preload-api-demo.component&#x27;</span>;\n<span class="hljs-keyword">import</span> { settings } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./preload-api-demo.data&#x27;</span>;\n\n<span class="hljs-meta">@Injectable</span>()\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PreloadedRecaptchaAPIService</span> {\n  <span class="hljs-keyword">public</span> <span class="hljs-attr">ready</span>: <span class="hljs-title class_">Observable</span>&lt;<span class="hljs-title class_">ReCaptcha</span>V2.<span class="hljs-property">ReCaptcha</span>&gt;;\n\n  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">\n    <span class="hljs-meta">@Optional</span>() <span class="hljs-meta">@Inject</span>(RECAPTCHA_V3_SITE_KEY) v3SiteKey?: <span class="hljs-built_in">string</span>,\n  </span>) {\n    <span class="hljs-keyword">const</span> readySubject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BehaviorSubject</span>&lt;<span class="hljs-title class_">ReCaptcha</span>V2.<span class="hljs-property">ReCaptcha</span>&gt;(<span class="hljs-literal">null</span>);\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ready</span> = readySubject.<span class="hljs-title function_">asObservable</span>();\n\n    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> grecaptcha === <span class="hljs-string">&#x27;undefined&#x27;</span>) {\n      <span class="hljs-keyword">const</span> recaptchaScript = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>);\n      <span class="hljs-keyword">const</span> renderMode = v3SiteKey || <span class="hljs-string">&#x27;explicit&#x27;</span>;\n      recaptchaScript.<span class="hljs-property">src</span> = <span class="hljs-string">`https://www.google.com/recaptcha/api.js?render=<span class="hljs-subst">${v3SiteKey}</span>`</span>;\n      <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(recaptchaScript);\n    }\n\n    <span class="hljs-keyword">const</span> interval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {\n      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> grecaptcha === <span class="hljs-string">&#x27;undefined&#x27;</span> || !(grecaptcha.<span class="hljs-property">render</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Function</span>)) {\n        <span class="hljs-keyword">return</span>;\n      }\n\n      <span class="hljs-built_in">clearInterval</span>(interval);\n      readySubject.<span class="hljs-title function_">next</span>(grecaptcha);\n    }, <span class="hljs-number">50</span>);\n  }\n}\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> service = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PreloadedRecaptcha</span>APIService();\n\n<span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title class_">Routes</span> = [\n  {\n    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;&#x27;</span>,\n    <span class="hljs-attr">component</span>: <span class="hljs-title class_">PreloadApiDemoComponent</span>,\n    <span class="hljs-attr">data</span>: { <span class="hljs-attr">page</span>: settings },\n  },\n];\n\n<span class="hljs-meta">@NgModule</span>({\n  <span class="hljs-attr">declarations</span>: [<span class="hljs-title class_">PreloadApiDemoComponent</span>],\n  <span class="hljs-attr">imports</span>: [\n    <span class="hljs-title class_">RouterModule</span>.<span class="hljs-title function_">forChild</span>(routes),\n    <span class="hljs-title class_">RecaptchaModule</span>,\n    <span class="hljs-title class_">CommonModule</span>,\n  ],\n  <span class="hljs-attr">providers</span>: [\n    {\n      <span class="hljs-attr">provide</span>: <span class="hljs-title class_">RecaptchaLoaderService</span>,\n      <span class="hljs-attr">useValue</span>: service,\n    },\n    { <span class="hljs-attr">provide</span>: <span class="hljs-variable constant_">RECAPTCHA_LANGUAGE</span>, <span class="hljs-attr">useValue</span>: <span class="hljs-string">&#x27;fr&#x27;</span> },\n  ],\n})\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoModule</span> { }\n',de:'<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Injectable</span>, <span class="hljs-title class_">NgModule</span>, <span class="hljs-title class_">Optional</span>, <span class="hljs-title class_">Inject</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CommonModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/common&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">RouterModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/router&#x27;</span>;\n\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BehaviorSubject</span>, <span class="hljs-title class_">Observable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rxjs&#x27;</span>;\n\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">RecaptchaLoaderService</span>, <span class="hljs-title class_">RecaptchaModule</span>, <span class="hljs-variable constant_">RECAPTCHA_LANGUAGE</span>, <span class="hljs-variable constant_">RECAPTCHA_V3_SITE_KEY</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;ng-recaptcha&#x27;</span>;\n\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PreloadApiDemoComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./preload-api-demo.component&#x27;</span>;\n<span class="hljs-keyword">import</span> { settings } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./preload-api-demo.data&#x27;</span>;\n\n<span class="hljs-meta">@Injectable</span>()\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PreloadedRecaptchaAPIService</span> {\n  <span class="hljs-keyword">public</span> <span class="hljs-attr">ready</span>: <span class="hljs-title class_">Observable</span>&lt;<span class="hljs-title class_">ReCaptcha</span>V2.<span class="hljs-property">ReCaptcha</span>&gt;;\n\n  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">\n    <span class="hljs-meta">@Optional</span>() <span class="hljs-meta">@Inject</span>(RECAPTCHA_V3_SITE_KEY) v3SiteKey?: <span class="hljs-built_in">string</span>,\n  </span>) {\n    <span class="hljs-keyword">const</span> readySubject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BehaviorSubject</span>&lt;<span class="hljs-title class_">ReCaptcha</span>V2.<span class="hljs-property">ReCaptcha</span>&gt;(<span class="hljs-literal">null</span>);\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ready</span> = readySubject.<span class="hljs-title function_">asObservable</span>();\n\n    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> grecaptcha === <span class="hljs-string">&#x27;undefined&#x27;</span>) {\n      <span class="hljs-keyword">const</span> recaptchaScript = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>);\n      <span class="hljs-keyword">const</span> renderMode = v3SiteKey || <span class="hljs-string">&#x27;explicit&#x27;</span>;\n      recaptchaScript.<span class="hljs-property">src</span> = <span class="hljs-string">`https://www.google.com/recaptcha/api.js?render=<span class="hljs-subst">${v3SiteKey}</span>`</span>;\n      <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(recaptchaScript);\n    }\n\n    <span class="hljs-keyword">const</span> interval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {\n      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> grecaptcha === <span class="hljs-string">&#x27;undefined&#x27;</span> || !(grecaptcha.<span class="hljs-property">render</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Function</span>)) {\n        <span class="hljs-keyword">return</span>;\n      }\n\n      <span class="hljs-built_in">clearInterval</span>(interval);\n      readySubject.<span class="hljs-title function_">next</span>(grecaptcha);\n    }, <span class="hljs-number">50</span>);\n  }\n}\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> service = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PreloadedRecaptcha</span>APIService();\n\n<span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title class_">Routes</span> = [\n  {\n    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;&#x27;</span>,\n    <span class="hljs-attr">component</span>: <span class="hljs-title class_">PreloadApiDemoComponent</span>,\n    <span class="hljs-attr">data</span>: { <span class="hljs-attr">page</span>: settings },\n  },\n];\n\n<span class="hljs-meta">@NgModule</span>({\n  <span class="hljs-attr">declarations</span>: [<span class="hljs-title class_">PreloadApiDemoComponent</span>],\n  <span class="hljs-attr">imports</span>: [\n    <span class="hljs-title class_">RouterModule</span>.<span class="hljs-title function_">forChild</span>(routes),\n    <span class="hljs-title class_">RecaptchaModule</span>,\n    <span class="hljs-title class_">CommonModule</span>,\n  ],\n  <span class="hljs-attr">providers</span>: [\n    {\n      <span class="hljs-attr">provide</span>: <span class="hljs-title class_">RecaptchaLoaderService</span>,\n      <span class="hljs-attr">useValue</span>: service,\n    },\n    { <span class="hljs-attr">provide</span>: <span class="hljs-variable constant_">RECAPTCHA_LANGUAGE</span>, <span class="hljs-attr">useValue</span>: <span class="hljs-string">&#x27;de&#x27;</span> },\n  ],\n})\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoModule</span> { }\n'}}}}}];let u=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({providers:[{provide:t._l,useValue:i},{provide:t.We,useValue:r.$},{provide:t.BZ,useValue:{siteKey:r.q}},{provide:t.oS,useValue:(0,c.g)()}],imports:[[p.Bz.forChild(d),t.a,l.ez]]}),s})()}}]);